# ETH量化交易系统 - API密钥配置示例
# 复制此文件为 .env.macos (macOS) 或 .env.windows (Windows) 并填入真实的API密钥

# =============================================================================
# 核心交易API (必需)
# =============================================================================

# OKX交易所API (必需 - 用于实时交易数据)
OKX_API_KEY=your_okx_api_key_here
OKX_SECRET_KEY=your_okx_secret_key_here
OKX_PASSPHRASE=your_okx_passphrase_here

# =============================================================================
# 基础数据源API (推荐配置)
# =============================================================================

# Etherscan API (链上数据)
ETHERSCAN_API_KEY=your_etherscan_api_key_here

# Alpha Vantage API (宏观经济数据)
ALPHA_VANTAGE_API_KEY=your_alpha_vantage_api_key_here

# FRED API (美联储经济数据)
FRED_API_KEY=your_fred_api_key_here

# NewsAPI (新闻情绪数据)
NEWS_API_KEY=your_news_api_key_here

# =============================================================================
# 高价值数据源API (可选但推荐)
# =============================================================================

# Whale Alert API (大户监控 - 提供实时大额交易监控)
WHALE_ALERT_API_KEY=your_whale_alert_api_key_here

# Glassnode API (高级链上分析)
GLASSNODE_API_KEY=your_glassnode_api_key_here

# LunarCrush API (社交情绪分析)
LUNARCRUSH_API_KEY=your_lunarcrush_api_key_here

# =============================================================================
# 免费数据源 (无需API密钥)
# =============================================================================

# Deribit API - 期权数据 (公开API，无需密钥)
# DefiLlama API - DeFi协议数据 (公开API，无需密钥)
# Binance API - 多交易所数据 (公开API，无需密钥)
# Bybit API - 多交易所数据 (公开API，无需密钥)

# =============================================================================
# 系统配置
# =============================================================================

# Web服务端口
WEB_PORT=3031

# 机器学习API (可选)
OPENAI_API_KEY=your_openai_api_key_here
ANTHROPIC_API_KEY=your_anthropic_api_key_here

# 数据库配置 (可选)
DATABASE_URL=sqlite:./data/trading.db

# =============================================================================
# 数据质量配置
# =============================================================================

# 数据融合策略 (weighted_average, highest_confidence, latest, consensus)
DATA_FUSION_STRATEGY=weighted_average

# 数据质量阈值 (0-100)
DATA_QUALITY_THRESHOLD=60

# 异常检测敏感度 (1-5, 3为默认)
ANOMALY_DETECTION_SENSITIVITY=3

# =============================================================================
# API获取指南
# =============================================================================

# Etherscan: https://etherscan.io/apis
# Alpha Vantage: https://www.alphavantage.co/support/#api-key
# FRED: https://fred.stlouisfed.org/docs/api/api_key.html
# NewsAPI: https://newsapi.org/register
# Whale Alert: https://docs.whale-alert.io/#authentication
# Glassnode: https://docs.glassnode.com/basic-api/api-keys
# LunarCrush: https://lunarcrush.com/developers/docs

# =============================================================================
# 注意事项
# =============================================================================

# 1. 请妥善保管您的API密钥，不要提交到版本控制系统
# 2. 部分API有请求频率限制，请查看相应文档
# 3. 免费API通常有使用限制，付费版本提供更多功能
# 4. 系统在缺少API密钥时会使用演示模式或跳过相应功能
# 5. 建议至少配置基础数据源API以获得最佳体验

# 数据聚合配置
DATA_AGGREGATION_ENABLED=true
DATA_AGGREGATION_INTERVAL=30000
ONCHAIN_DATA_ENABLED=true
MACRO_DATA_ENABLED=true
MULTI_EXCHANGE_ENABLED=true
SOCIAL_SENTIMENT_ENABLED=true

# 数据缓存配置
ONCHAIN_CACHE_TTL=300000
MACRO_CACHE_TTL=3600000
SENTIMENT_CACHE_TTL=900000
EXCHANGE_CACHE_TTL=10000

# ===== 机器学习配置 =====
# 本地ML模型设置
ML_ENABLED=true
ML_MODEL_TYPE=ensemble
ML_TRAINING_SIZE=500
ML_RETRAIN_INTERVAL=50
ML_MIN_TRAINING=50

# ===== 交易配置 =====
# 策略参数设置
DEFAULT_SYMBOL=ETH-USDT-SWAP
MAX_LEVERAGE=20
MAX_DAILY_LOSS=0.05
STOP_LOSS_PERCENT=0.02
TAKE_PROFIT_PERCENT=0.028
SIGNAL_THRESHOLD=0.5
MIN_WIN_RATE=0.55

# ===== 风险管理 =====
# 风险控制参数
MAX_POSITIONS=5
MAX_EXPOSURE=0.3
COOLDOWN_PERIOD=1800000
OPPOSITE_CONSTRAINT=true

# ===== 数据库配置 =====
# SQLite数据库设置
DB_PATH=./data/recommendations.db
DB_BACKUP_ENABLED=true
DB_BACKUP_INTERVAL=86400000

# ===== 安全配置 =====
# 系统安全设置
ENABLE_CORS=true
CORS_ORIGIN=*
RATE_LIMIT_ENABLED=true
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW=900000